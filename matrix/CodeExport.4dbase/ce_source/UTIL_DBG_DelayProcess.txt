//%attributes = {"lang":"en","invisible":true} comment added and reserved by 4D.// Deleting this, but I'll save the text version in SVN.// Debugging code, detect if delay process isn't working (means database is quitting).C_LONGINT($start_l;$end_l;$total_l)C_LONGINT(counter_l)C_TEXT($file_t)C_TIME($ref)$file_t:="counter.txt"If ((counter_l=0) & (Test path name($file_t)=Is a document ))DELETE DOCUMENT($file_t)End if counter_l:=counter_l+1$start_l:=TickcountDELAY PROCESS(Current process;60)// Don't know if I want to make this configurable or not.  This is supposed to be a zero impact component.$end_l:=Tickcount$total_l:=$end_l-$start_lIf (Test path name($file_t)#Is a document )$ref:=Create document($file_t)Else $ref:=Append document($file_t)End if If (OK=1)// SEND PACKET($ref;String($total_l)+Char(Carriage return))If ($total_l<60)SEND PACKET($ref;"Quit detected!"+Char(Carriage return ))<>CE_StopMonitor_f:=TrueEnd if CLOSE DOCUMENT($ref)End if 